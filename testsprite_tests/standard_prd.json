{
  "meta": {
    "project": "Canga Vardiya Sistemi",
    "date": "2025-11-04",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Canga Vardiya Sistemi is a comprehensive full-stack web application designed for employee management, dynamic shift planning, and service route management primarily targeted towards the defense industry. It provides extensive capabilities for managing over 1000 employees, including attendance tracking, annual leave management, job applications, and real-time dashboards enriched with AI analysis.",
  "core_goals": [
    "Centralized management of a large workforce (1000+ employees).",
    "Dynamic and flexible shift planning with multi-location and group support.",
    "Comprehensive attendance and leave tracking including QR code based signature system.",
    "Detailed service route planning and passenger management.",
    "Efficient job application handling with multi-step forms and CV uploads.",
    "Real-time analytics dashboard with key performance indicators and notifications.",
    "Robust security and performance optimization with modern tech stack."
  ],
  "key_features": [
    "Employee Management with Excel import/export, advanced filtering, and profile handling.",
    "Dynamic Shift Planning supporting multi-location, conflict detection, and approval workflows.",
    "Attendance Tracking with multiple input methods, anomaly detection, and automatic overtime calculations.",
    "QR Code Signature System for secure check-in/out with GPS and one-time tokens.",
    "Annual Leave Management adhering to labor laws with automated calculations and carry-over logic.",
    "Comprehensive Service Route Management including route creation, stop management, and passenger lists.",
    "Job Applications module featuring a public 7-section form, HR panel, and status tracking.",
    "Real-time Dashboard with live stats, notifications, and quick access to main modules.",
    "Calendar System with FullCalendar integration for scheduling and event management.",
    "System Notifications with priority levels, read tracking, and filtering capabilities.",
    "Excel Import/Export utilities for data handling and reports.",
    "AI Analysis using Gemini AI for error detection and data consistency checks (limited usage)."
  ],
  "user_flow_summary": [
    "HR specialist logs in to manage employee records, import/export data via Excel, and review former employees or trainees.",
    "Shift managers create and approve complex shift schedules across multiple locations using calendar and group views.",
    "Employees or supervisors track attendance via QR code scans or manual entries, with anomaly notifications.",
    "Managers plan and monitor service routes including stops and passenger assignments.",
    "Applicants fill out comprehensive job application forms publicly, upload CVs, and HR reviews via secure panel.",
    "Admins and managers review real-time dashboards, handle notifications, and quickly navigate between modules.",
    "Users consult and manage schedules, leaves, and events through the calendar interface with drag & drop functionality.",
    "Notification system alerts users with priorities and read/unread states enabling focus on urgent tasks.",
    "Excel processing flows allow batch data import and export supporting operational and reporting needs.",
    "AI-based analysis runs periodically to detect data anomalies and suggest corrections to improve system data quality."
  ],
  "validation_criteria": [
    "All employee CRUD operations must support bulk processing and Excel import/export with data integrity checks.",
    "Shift planning must enforce conflict detection, approval statuses, and multi-location support.",
    "Attendance records should accurately reflect multi-method check-ins and check-outs, including QR signature validation and GPS data capture.",
    "Annual leave calculations must conform to labor law rules with correct carry-over logic and usage tracking.",
    "Job application forms must be fully functional with 7 defined sections, CV upload, and seamless integration with HR review panel.",
    "Real-time dashboard metrics must update accurately reflecting personnel status, shift details, and notification counts.",
    "Calendar events for shifts, leaves, and other activities must support drag & drop, filtering, and mobile optimization.",
    "Notifications should be delivered with priority tags, track read/unread status, and allow user filtering.",
    "Excel import/export processes must handle large datasets without data loss and maintain format consistency.",
    "AI analysis features should identify naming similarities and data inconsistencies, providing actionable feedback even under API usage limitations.",
    "Security implementations like JWT authentication, password hashing, and RBAC must be verified for access control efficacy.",
    "Performance optimizations like caching, indexing, and lazy loading must be validated in normal and peak usage scenarios.",
    "All APIs must respond correctly with proper status codes, input validations, and error handling across secure and public routes."
  ],
  "code_summary": {
    "project_name": "Canga Vardiya Sistemi",
    "project_description": "Çalışan yönetimi, vardiya planlama ve servis rotaları yönetimi için geliştirilmiş full-stack web uygulaması",
    "tech_stack": {
      "backend": {
        "framework": "Express.js",
        "runtime": "Node.js",
        "database": "MongoDB",
        "cache": "Redis",
        "orm": "Mongoose",
        "authentication": "JWT (jsonwebtoken)",
        "security": "bcryptjs",
        "other": [
          "Winston (logging)",
          "Sentry (error tracking)",
          "New Relic (APM)"
        ]
      },
      "frontend": {
        "framework": "React 18",
        "ui_library": "Material-UI (MUI)",
        "routing": "React Router DOM",
        "state_management": "React Context API",
        "build_tool": "Vite",
        "charts": "Chart.js, Recharts",
        "calendar": "FullCalendar",
        "other": [
          "React Hot Toast",
          "Axios",
          "date-fns"
        ]
      },
      "infrastructure": {
        "deployment": "Render.com",
        "monitoring": "Sentry, New Relic",
        "logging": "Winston"
      }
    },
    "features": [
      {
        "name": "Employee Management",
        "description": "Çalışan veritabanı yönetimi, Excel import/export, filtreleme ve arama",
        "endpoints": [
          "/api/employees"
        ],
        "pages": [
          "Employees",
          "FormerEmployees",
          "TraineesAndApprentices"
        ]
      },
      {
        "name": "Shift Planning",
        "description": "Dinamik vardiya planlama, çoklu lokasyon, onay sistemi, çakışma kontrolü",
        "endpoints": [
          "/api/shifts"
        ],
        "pages": [
          "Shifts",
          "CreateShift",
          "Calendar"
        ]
      },
      {
        "name": "Attendance Tracking",
        "description": "Giriş-çıkış takip sistemi, mesai hesaplamaları, anomali tespiti",
        "endpoints": [
          "/api/attendance"
        ],
        "pages": []
      },
      {
        "name": "QR Code Signature System",
        "description": "QR kod tabanlı imza sistemi, GPS konum kaydı, tek kullanımlık token",
        "endpoints": [
          "/api/attendance-qr"
        ],
        "pages": [
          "QRCodeGenerator",
          "SignaturePage"
        ]
      },
      {
        "name": "Annual Leave Management",
        "description": "Yıllık izin takibi, otomatik hesaplama, devir sistemi, İş Kanunu uyumlu",
        "endpoints": [
          "/api/annual-leave"
        ],
        "pages": [
          "AnnualLeave",
          "AnnualLeaveEditPage"
        ]
      },
      {
        "name": "Service Route Management",
        "description": "Servis rota planlama, güzergah oluşturma, durak yönetimi, yolcu listeleri",
        "endpoints": [
          "/api/services",
          "/api/quick-route"
        ],
        "pages": [
          "Services",
          "QuickRoute",
          "QuickRouteModern",
          "QuickRouteManual",
          "PassengerList"
        ]
      },
      {
        "name": "Job Applications",
        "description": "İş başvuruları yönetimi, 7 bölümlü form, CV yükleme, İK paneli",
        "endpoints": [
          "/api/job-applications"
        ],
        "pages": [
          "JobApplicationsList",
          "JobApplicationEditor",
          "PublicJobApplication"
        ]
      },
      {
        "name": "Dashboard & Analytics",
        "description": "Real-time istatistikler, grafikler, KPI'lar, performans metrikleri",
        "endpoints": [
          "/api/dashboard"
        ],
        "pages": [
          "Dashboard"
        ]
      },
      {
        "name": "Calendar System",
        "description": "Gelişmiş takvim görünümü, drag-drop, filtreleme, mobil optimizasyon",
        "endpoints": [
          "/api/calendar"
        ],
        "pages": [
          "Calendar",
          "CalendarAdvanced"
        ]
      },
      {
        "name": "Notifications",
        "description": "Sistem bildirimleri, kullanıcı bildirimleri",
        "endpoints": [
          "/api/notifications"
        ],
        "pages": [
          "Notifications"
        ]
      },
      {
        "name": "Excel Import/Export",
        "description": "Excel dosya işleme, CSV import/export, veri dönüştürme",
        "endpoints": [
          "/api/excel"
        ],
        "pages": [
          "QuickList"
        ]
      },
      {
        "name": "AI Analysis",
        "description": "Gemini AI ile veri analizi, isim benzerlik analizi, hata tespiti",
        "endpoints": [
          "/api/ai-analysis"
        ],
        "pages": []
      }
    ],
    "api_endpoints": {
      "users": "/api/users",
      "employees": "/api/employees",
      "shifts": "/api/shifts",
      "attendance": "/api/attendance",
      "attendance_qr": "/api/attendance-qr",
      "annual_leave": "/api/annual-leave",
      "services": "/api/services",
      "quick_route": "/api/quick-route",
      "job_applications": "/api/job-applications",
      "dashboard": "/api/dashboard",
      "calendar": "/api/calendar",
      "notifications": "/api/notifications",
      "excel": "/api/excel",
      "ai_analysis": "/api/ai-analysis",
      "form_structure": "/api/form-structure",
      "scheduled_lists": "/api/scheduled-lists",
      "health": "/api/health"
    },
    "authentication": {
      "type": "JWT",
      "login_endpoint": "/api/users/login",
      "protected_routes": true,
      "public_routes": [
        "/public/job-application"
      ]
    },
    "ports": {
      "backend": 5001,
      "frontend": 3000
    },
    "database_models": [
      "Employee",
      "Shift",
      "Attendance",
      "AttendanceToken",
      "AnnualLeave",
      "Service",
      "JobApplication",
      "User",
      "Notification"
    ],
    "key_technologies": [
      "React",
      "Express",
      "MongoDB",
      "Redis",
      "Material-UI",
      "JWT",
      "QR Code",
      "Excel Processing",
      "AI Integration (Gemini)"
    ],
    "project_structure": {
      "backend": "server/",
      "frontend": "client/",
      "routes": "server/routes/",
      "models": "server/models/",
      "pages": "client/src/pages/",
      "components": "client/src/components/"
    }
  }
}
