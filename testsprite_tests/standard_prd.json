{
  "meta": {
    "project": "Canga Vardiya Yönetim Sistemi",
    "date": "2025-11-12",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Canga Vardiya Yönetim Sistemi is a comprehensive shift, employee, and service management platform tailored for Çanga Savunma Endüstrisi Ltd. Şti., designed to digitize and automate personnel management, shift planning, service routes, annual leave tracking, attendance, and advanced reporting needs of the defense industry with emphasis on security, AI-powered anomaly detection, and geolocation tracking.",
  "core_goals": [
    "Automate and streamline manual employee, shift, and service management processes.",
    "Provide real-time tracking, reporting, and communication tools for improved operational efficiency.",
    "Ensure high security compliance with role-based access and encrypted data.",
    "Enable data interoperability via Excel import/export and APIs.",
    "Offer AI-enhanced insights for anomaly detection and data validation.",
    "Integrate geolocation and interactive map visualizations for routes and personnel.",
    "Support robust authentication, notification, and audit logging systems."
  ],
  "key_features": [
    "Comprehensive Employee Management with CRUD, bulk editing, photo upload, and detailed analytics.",
    "Robust Shift Management supporting multi-time slots, approvals, digital signatures, and calendar integration with drag-and-drop.",
    "Annual Leave Management featuring multi-level approvals, balance tracking, and conflict detection.",
    "Versatile Attendance System supporting multiple check-in methods including QR codes and biometric data with AI anomaly detection.",
    "Dynamic Service Route Management with vehicle, driver assignment, GPS mapping, and route optimization.",
    "Integrated Calendar System with smart filters, multi-view support, and mobile-friendly interface.",
    "QR Code and Digital Signature System with personal and system-wide tokens, usage tracking, and secure access.",
    "Interactive Location Maps using Leaflet and Google Maps APIs for real-time location and route visualization.",
    "Advanced Dashboard and Reporting with real-time KPIs, customizable views, exports to Excel/PDF, and drill-down analytics.",
    "Job Application Module with public forms, dynamic form building, status tracking, and notifications.",
    "Enterprise-grade Authentication and RBAC with JWT, bcrypt security, token refresh, and session management.",
    "Notifications System delivering real-time user alerts with read-status and history.",
    "AI Module integrating Gemini and Groq for name similarity, data validation, anomaly detection, and predictive insights.",
    "Excel File Import/Export utilities with auto field mapping and validation for bulk data.",
    "Performance optimizations including Redis caching, MongoDB indexing, and efficient frontend lazy loading."
  ],
  "user_flow_summary": [
    "Users authenticate via secure login with roles determining system access levels.",
    "Admins and managers manage employees through creation, editing, bulk updates, and viewing detailed profiles.",
    "Shift planners create and assign shifts using calendar and drag-and-drop features, approving and publishing schedules.",
    "Employees and supervisors track daily attendance with QR codes or other methods, incorporating signatures and photos.",
    "HR manages annual leave requests submitting, approving, and monitoring leave balances visually integrated with calendars.",
    "Service managers define, assign, and optimize service routes and passenger lists enhanced with interactive maps.",
    "Job applicants submit entries via public forms, while HR reviews and updates application statuses with notifications.",
    "System generates automated reports and dashboards providing analytics and exporting capabilities.",
    "Users receive notifications in-app for updates, approvals, anomalies, and system alerts.",
    "AI services analyze attendance and data for anomalies, duplicates, and prediction recommendations.",
    "Administrators use API for manual user and system management, including logging and cache control."
  ],
  "validation_criteria": [
    "All core API endpoints respond with proper HTTP status codes and error handling.",
    "Authentication flow securely issues and validates JWT tokens with role-based access control.",
    "Employee CRUD operations properly handle validation, bulk edits, and include photo management.",
    "Shift management supports multi-slot scheduling, drag-and-drop reassignment, and approval statuses.",
    "Annual leave requests correctly calculate balances and prevent overlapping requests.",
    "Attendance records accurately reflect multi-method check-ins with signature and photo storage.",
    "QR code generation and usage tokens expire and track usage appropriately.",
    "Service routes reflect real-time linked vehicle, driver, and passenger data on maps.",
    "Reports and dashboard visuals update in real-time with export functionality tested.",
    "AI anomaly detection flags inconsistencies and suggests corrective actions effectively.",
    "Excel import/export functions correctly map, validate, and process bulk data uploads.",
    "Real-time notifications delivery is reliable, with read statuses persisting.",
    "Redis caching layers effectively reduce API response times without stale data issues.",
    "Logging captures errors, audit trails, and usage with no data loss and proper rotation.",
    "Frontend UI components are responsive, accessible, and perform efficiently across devices.",
    "Security measures like CORS policies, rate limiting, data encryption, and session controls are enforced."
  ],
  "code_summary": {
    "tech_stack": [
      "JavaScript",
      "React",
      "Node.js",
      "Express",
      "MongoDB",
      "Material-UI",
      "Vite",
      "React Router",
      "Axios",
      "Chart.js",
      "Leaflet",
      "Mongoose",
      "JWT",
      "Redis",
      "ExcelJS",
      "PDFKit",
      "QRCode",
      "Google Maps API",
      "FullCalendar",
      "React Beautiful DnD"
    ],
    "features": [
      {
        "name": "Authentication",
        "description": "Password-based authentication system with JWT tokens and protected routes",
        "files": [
          "client/src/components/Login/Login.js",
          "client/src/contexts/AuthContext.js",
          "server/middleware/auth.js",
          "server/routes/users.js"
        ]
      },
      {
        "name": "Dashboard",
        "description": "Main dashboard displaying statistics, recent activities, and quick access to key features",
        "files": [
          "client/src/pages/Dashboard.js",
          "server/routes/dashboard.js"
        ]
      },
      {
        "name": "Employee Management",
        "description": "Comprehensive employee management system with CRUD operations, bulk editing, and filtering",
        "files": [
          "client/src/pages/Employees.js",
          "client/src/pages/FormerEmployees.js",
          "client/src/pages/TraineesAndApprentices.js",
          "client/src/components/BulkEmployeeEditor.js",
          "client/src/components/EmployeeDetailModal.js",
          "server/routes/employees.js",
          "server/models/Employee.js",
          "server/utils/employeeFieldMapper.js"
        ]
      },
      {
        "name": "Shift Management",
        "description": "Shift creation, editing, and management system with calendar integration",
        "files": [
          "client/src/pages/Shifts.js",
          "client/src/pages/CreateShift.js",
          "server/routes/shifts.js",
          "server/models/Shift.js"
        ]
      },
      {
        "name": "Calendar System",
        "description": "Advanced calendar system with drag-and-drop functionality, filters, and vacation management",
        "files": [
          "client/src/pages/Calendar.js",
          "client/src/pages/CalendarAdvanced.js",
          "client/src/components/Calendar/DragDropFeature.js",
          "client/src/components/Calendar/MobileCalendar.js",
          "client/src/components/Calendar/SmartFilters.js",
          "client/src/components/Calendar/VacationManager.js",
          "server/routes/calendar.js"
        ]
      },
      {
        "name": "Annual Leave Management",
        "description": "Annual leave tracking, editing, and management system",
        "files": [
          "client/src/pages/AnnualLeave.js",
          "client/src/pages/AnnualLeaveEditPage.js",
          "client/src/components/LeaveEditModal.js",
          "server/routes/annualLeave.js",
          "server/models/AnnualLeave.js"
        ]
      },
      {
        "name": "Services Management",
        "description": "Service route and schedule management system",
        "files": [
          "client/src/pages/Services.js",
          "server/routes/services.js",
          "server/models/ServiceRoute.js",
          "server/models/ServiceSchedule.js",
          "server/services/serviceSyncService.js"
        ]
      },
      {
        "name": "Quick Route",
        "description": "Quick route creation and management system with modern UI",
        "files": [
          "client/src/pages/QuickRoute.js",
          "client/src/pages/QuickRouteManual.js",
          "client/src/pages/QuickRouteModern.js",
          "client/src/pages/QuickList.js",
          "server/routes/quickRoute.js"
        ]
      },
      {
        "name": "QR Code Management",
        "description": "QR code generation and management system for attendance and signatures",
        "files": [
          "client/src/pages/QRCodeGenerator.js",
          "client/src/pages/QRImzaYonetimi.js",
          "server/routes/attendanceQR.js",
          "server/routes/systemQR.js",
          "server/models/SystemQRToken.js",
          "server/models/AttendanceToken.js"
        ]
      },
      {
        "name": "Signature System",
        "description": "Digital signature system with token-based access",
        "files": [
          "client/src/pages/SignaturePage.js",
          "client/src/pages/SystemSignaturePage.js",
          "client/src/components/SignatureDetailModal.js"
        ]
      },
      {
        "name": "Attendance System",
        "description": "Attendance tracking with QR codes and AI-powered anomaly detection",
        "files": [
          "server/routes/attendance.js",
          "server/routes/attendanceAI.js",
          "server/models/Attendance.js",
          "server/services/attendanceAI.js",
          "server/services/aiAnomalyAnalyzer.js"
        ]
      },
      {
        "name": "Job Applications",
        "description": "Job application management system with public application form and editor",
        "files": [
          "client/src/pages/JobApplicationsList.js",
          "client/src/pages/JobApplicationEditor.js",
          "client/src/pages/PublicJobApplication.js",
          "server/routes/jobApplications.js",
          "server/models/JobApplication.js",
          "server/models/FormStructure.js"
        ]
      },
      {
        "name": "Notifications",
        "description": "Notification system for system alerts and user notifications",
        "files": [
          "client/src/pages/Notifications.js",
          "server/routes/notifications.js",
          "server/models/Notification.js"
        ]
      },
      {
        "name": "Reporting Dashboard",
        "description": "Advanced reporting and analytics dashboard with charts and exports",
        "files": [
          "client/src/components/ReportingDashboard.js",
          "client/src/components/Charts/ChartDrilldown.js",
          "client/src/components/Charts/ChartExporter.js",
          "client/src/components/Charts/ChartFilters.js",
          "client/src/components/Charts/DatabaseCharts.js",
          "client/src/components/AdvancedAnalytics.js",
          "server/routes/reports.js",
          "server/models/Analytics.js"
        ]
      },
      {
        "name": "Location Maps",
        "description": "Interactive maps using Leaflet and Google Maps for location tracking",
        "files": [
          "client/src/components/LocationMap.js",
          "client/src/components/LiveLocationMap.js",
          "client/src/components/LeafletMap.js",
          "client/src/components/SimpleMap.js",
          "server/routes/locationMap.js",
          "server/utils/locationHelper.js"
        ]
      },
      {
        "name": "Profile Management",
        "description": "User profile management and settings",
        "files": [
          "client/src/pages/Profile.js"
        ]
      },
      {
        "name": "Passenger List",
        "description": "Passenger list management system",
        "files": [
          "client/src/pages/PassengerList.js"
        ]
      },
      {
        "name": "Excel Import/Export",
        "description": "Excel file import and export functionality",
        "files": [
          "client/src/components/ExportButtons.js",
          "client/src/utils/exportUtils.js",
          "server/routes/excel.js",
          "server/scripts/importCSVData.js",
          "server/scripts/exportUsageToCsv.js",
          "server/scripts/importUsedLeaveFromCsv.js"
        ]
      },
      {
        "name": "Layout System",
        "description": "Main application layout with navigation and sidebar",
        "files": [
          "client/src/components/Layout/Layout.js"
        ]
      },
      {
        "name": "Modern UI Components",
        "description": "Reusable modern UI components",
        "files": [
          "client/src/components/modern/ModernButton.js",
          "client/src/components/modern/ModernCard.js",
          "client/src/components/modern/ModernInput.js",
          "client/src/theme/modernTheme.js"
        ]
      },
      {
        "name": "Cron Jobs",
        "description": "Scheduled tasks for automated reports and data synchronization",
        "files": [
          "server/services/cronJobs.js",
          "server/services/dailyReportService.js"
        ]
      },
      {
        "name": "Caching System",
        "description": "Redis-based caching system for performance optimization",
        "files": [
          "server/middleware/cache.js",
          "server/config/redis.js"
        ]
      },
      {
        "name": "Logging System",
        "description": "Comprehensive logging system with Winston",
        "files": [
          "server/config/logger.js"
        ]
      },
      {
        "name": "Scheduled Lists",
        "description": "Scheduled list management system",
        "files": [
          "server/routes/scheduledLists.js",
          "server/models/ScheduledList.js"
        ]
      }
    ]
  }
}
